using System;
using System.Collections.Generic;
using System.Text;

namespace DotNetCourse.Day4.LargestDivisor
{
	class Program
	{
		public void Main()
		{
			LargestDivisor ld = new LargestDivisor(100000000);
			var (miliseconds, largestNumber, list) = ld.Calculate();
			System.Console.WriteLine("Largest divisor is {0}, time spent: {1}, list of divisors: {2}", largestNumber, miliseconds, list.MyToString());

			(double miliseconds2, int largestNumber2, List<int> list2) = ld.CalculateWithThreads(Environment.ProcessorCount);
			System.Console.WriteLine("Largest divisor is {0}, time spent with threading: {1}, list of divisors: {2}", largestNumber2, miliseconds2, list2.MyToString());

			(double miliseconds3, int largestNumber3, List<int> list3) = ld.CalculateWithThreadPool(4);
			System.Console.WriteLine("Largest divisor is {0}, time spent with thread pool: {1}, list of divisors: {2}", largestNumber3, miliseconds3, list3.MyToString());

			//Largest divisor is 100000000, time spent: 845.5471, list of divisors: 1 2 4 5 8 10 16 20 25 32 40 50 64 80 100 125 128 160 200 250 256 320 400 500 625 640 800 1000 1250 1280 1600 2000 2500 3125 3200 4000 5000 6250 6400 8000 10000 12500 15625 16000 20000 25000 31250 32000 40000 50000 62500 78125 80000 100000 125000 156250 160000 200000 250000 312500 390625 400000 500000 625000 781250 800000 1000000 1250000 1562500 2000000 2500000 3125000 4000000 5000000 6250000 10000000 12500000 20000000 25000000 50000000 100000000
			//Largest divisor is 100000000, time spent with threading: 490.9883, list of divisors: 1 2 4 5 8 10 16 20 25 32 40 50 64 80 100 125 128 160 200 250 256 320 400 500 625 640 800 1000 1250 1280 1600 2000 2500 3125 3200 4000 5000 6250 6400 8000 10000 12500 15625 16000 20000 25000 31250 32000 40000 50000 62500 78125 80000 100000 125000 156250 160000 200000 250000 312500 390625 400000 500000 625000 781250 800000 1000000 1250000 1562500 2000000 2500000 3125000 4000000 5000000 6250000 10000000 12500000 20000000 25000000 50000000 100000000
			//Largest divisor is 100000000, time spent with thread pool: 320.2413, list of divisors: 1 2 4 5 8 10 16 20 25 32 40 50 64 80 100 125 128 160 200 250 256 320 400 500 625 640 800 1000 1250 1280 1600 2000 2500 3125 3200 4000 5000 6250 6400 8000 10000 12500 15625 16000 20000 25000 31250 32000 40000 50000 62500 78125 80000 100000 125000 156250 160000 200000 250000 312500 390625 400000 500000 625000 781250 800000 1000000 1250000 1562500 2000000 2500000 3125000 4000000 5000000 6250000 10000000 12500000 20000000 25000000 50000000 100000000

		}
	}
}
